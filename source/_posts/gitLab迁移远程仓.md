---
title: gitLab使用镜像同步,迁移远程仓库
date: 2022-12-12 17:20:20
tags:
- 原创
categories:
- 工程化
---

# gitLab使用镜像同步,迁移远程仓库

### 需求:

旧的远程仓库不再使用了,需要把旧的远程仓库代码迁移到新的远程仓库上

### 操作:

1. 使用常规手段,用旧的本地仓库更换远程仓库地址,然后推送到新的远程仓库中
2. 使用gitlab自带的Mirroring repositories镜像同步的方法去将旧的仓库同步到新的远程仓库上

### 步骤:

1. 打开新的远程仓库的gitlab页面,找到setting下的repository下的
{% asset_img 1.png %}

2. 展开后的页面需要填写这两个表单
{% asset_img 2.png %}

3. 需要注意的是,旧的远程仓库的地址需要加上你旧的远程仓库的用户名
   1. 远程仓库地址http://xxx.git 用户名为:david
   2. 那么要填的URL为: http://david@xxx.git
4. 输入完毕后,点击这个按钮进行同步
{% asset_img 3.png %}

5. 会出现这两个提示,告诉你正在同步
{% asset_img 4.png %}

6. 这个时候等待即可,或者点下面那个刷新按钮,,直到告诉你已经同步成功了!
{% asset_img 5.png %}

7. 然后点击删除按钮,删除掉这个同步,不然会一直同步的,这个时候就ok啦

8. 这样同步过来的可能会有一个问题,就是之前设置的保护分支或者默认分支就需要重新设置一下